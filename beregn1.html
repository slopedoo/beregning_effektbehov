<html>
<script language="javascript">
	function kalkuler(){
    	lengde.value=lengde.value.replace(",",".");
    	strom.value=strom.value.replace(",",".");
    	phi.value=phi.value.replace(",",".");
    	if(lengde.value=="") alert('Feltet Kabellengde (m) må fylles ut!');
    	else if(strom.value=="") alert('Feltet Strøm må fylles ut!');
    	else if(phi.value=="") alert('Feltet Cos Φ må fylles ut!');
    	else if(phi.value<0 || phi.value>1) alert('Cos Φ må ha en verdi mellom 0 og 1!');
    	else if(isNaN(lengde.value)) alert('Kabellengde må være et tall !');
    	else if(isNaN(strom.value)) alert('Strøm må være et tall !');
    	else if(isNaN(phi.value)) alert('Cos Φ må være tall !');
    	else{
      		var ro=0;
      		var fase=0;
      		if (materiale.value=='cu') ro=0.0175;
      		else if (materiale.value=='al') ro=0.029;
      		if(faser.value==1 || faser.value==2) fase=2;
      		else fase=Math.sqrt(3);			
      		var Spenningsfall=(strom.value*ro*fase*phi.value*lengde.value)/tversnitt.value;
      		resultat.value='Totalt spenningsfall : '+Math.round(Spenningsfall*100)/100+' V';
      		if(un.value!='')
        		if(!isNaN(un.value)) 
          			if(Spenningsfall<un.value)
            			resultat.value+='\nTotalt spenningsfall i % : '+Math.round((((Spenningsfall/un.value)*100)*100))/100+' %';
          			else
            			resultat.value+='\nTotalt spenningsfall i % : 100 %';
    	}
  	}
</script>
<center>
	<table border="0">
		<tbody>
			<tr>
				<td>Spenning U<sub>N</sub></td>
				<td><input name="un" type="text" value="" /></td>
			</tr>
			<tr>
				<td>Antall faser</td>
				<td><select name="faser"><option value="1">1</option><option value="2">2</option><option value="3">3</option></select></td>
			</tr>
			<tr>
				<td>Ledermateriale</td>
				<td><select name="materiale"><option value="cu">Cu</option><option value="al">Al</option></select></td>
			</tr>
			<tr>
				<td>Tversnitt kabel (mm<sup>2</sup>)</td>
				<td><select name="tversnitt"><option value="0.5">0.5</option><option value="1">1</option><option value="1.5">1.5</option><option value="2.5">2.5</option><option value="4">4</option><option value="6">6</option><option value="10">10</option><option value="16">16</option><option value="25">25</option><option value="35">35</option><option value="50">50</option><option value="95">95</option><option value="120">120</option><option value="150">150</option><option value="185">185</option><option value="240">240</option></select></td>
			</tr>
			<tr>
				<td>Kabellengde (m)</td>
				<td><input name="lengde" type="text" value="" /></td>
			</tr>
			<tr>
				<td>Str&oslash;m (A)</td>
				<td><input name="strom" type="text" value="" /></td>
			</tr>
			<tr>
				<td>Cos &Phi;</td>
				<td><input name="phi" type="text" value="" /></td>
			</tr>
			<tr>
				<td>&nbsp;</td>
				<td><button onclick="kalkuler();" value="Beregn">Beregn</button></td>
			</tr>
			<tr>
				<td>&nbsp;</td>
				<td>&nbsp;</td>
			</tr>
			<tr>
				<td valign="top">Resultat</td>
				<td><textarea cols="40" name="resultat" rows="10"></textarea></td>
			</tr>
			<tr>
				<td>&nbsp;</td>
				<td>&nbsp;</td>
			</tr>
			<tr>
			</tr>
		</tbody>
	</table>
</center>
</html>